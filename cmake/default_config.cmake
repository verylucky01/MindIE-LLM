option(DOMAIN_LAYERED_TEST "Enable DLT test case'" OFF)

if(CMAKE_BUILD_TYPE STREQUAL "")
    set(CMAKE_BUILD_TYPE "RelWithDebInfo")
endif()

if(DEFINED ENV{thread_num})
    set(thread_num "$ENV{thread_num}")
else()
    set(thread_num "${CMAKE_BUILD_PARALLEL_LEVEL}")
endif()

set(DEPENDENCY_JSON_FILE "${CMAKE_CURRENT_LIST_DIR}/../third_party_entry/dependency.json")
set(THIRD_PARTY_SRC_DIR "${CMAKE_CURRENT_LIST_DIR}/../third_party")
set(THIRD_PARTY_CACHE_DIR "${CMAKE_CURRENT_LIST_DIR}/../.cache/downloadCache")
set(THIRD_PARTY_OUTPUT_DIR "${THIRD_PARTY_SRC_DIR}/output")

file(GLOB PROTOBUF_SO_FILES "${THIRD_PARTY_OUTPUT_DIR}/protobuf/lib/*.so")
set(PROTOBUF_PROTOC_EXECUTABLE "${THIRD_PARTY_OUTPUT_DIR}/protobuf/bin/protoc")
set(GRPC_CPP_PLUGIN "${THIRD_PARTY_OUTPUT_DIR}/grpc/bin/grpc_cpp_plugin")

set(ZLIB_OUTPUT_DIR "${THIRD_PARTY_OUTPUT_DIR}/zlib")
set(ABSEILCPP_OUTPUT_DIR "${THIRD_PARTY_OUTPUT_DIR}/abseil-cpp")
set(RE2_OUTPUT_DIR "${THIRD_PARTY_OUTPUT_DIR}/re2")
set(PROTOBUF_OUTPUT_DIR "${THIRD_PARTY_OUTPUT_DIR}/protobuf")
set(OPENSSL_OUTPUT_DIR "${THIRD_PARTY_OUTPUT_DIR}/openssl")
set(CARES_OUTPUT_DIR "${THIRD_PARTY_OUTPUT_DIR}/cares")
set(GRPC_OUTPUT_DIR "${THIRD_PARTY_OUTPUT_DIR}/grpc")
set(BOOST_OUTPUT_DIR "${THIRD_PARTY_OUTPUT_DIR}/boost")
set(PROMETHEUS_OUTPUT_DIR "${THIRD_PARTY_OUTPUT_DIR}/prometheus-cpp")
set(LIBBOUNDSCHECK_OUTPUT_DIR "${THIRD_PARTY_OUTPUT_DIR}/libboundscheck")
set(MOCKCPP_OUTPUT_DIR "${THIRD_PARTY_OUTPUT_DIR}/mockcpp")
set(GTEST_OUTPUT_DIR "${THIRD_PARTY_OUTPUT_DIR}/gtest")
